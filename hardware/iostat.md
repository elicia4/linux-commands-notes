# `iostat`

[***Table of Contents***](/README.md)

Analyze input & output of storage (in a general manner):

```bash
# iostat sec_interval repetitions
iostat 2 5
```

It shows the average CPU usage & I/O activity of devices.

For a more specific approach, use [`iotop`](./iotop.md).

### CPU

The first `iostat` report is the CPU Utilization Report. For multiprocessor
systems, the CPU values are global averages among all processors.

- `%user` - CPU% used at the user level (application)
- `%nice` - CPU% used at the user level with nice priority
- `%system` - CPU% used at the system level (kernel)
- `%iowait` - percentage of time the CPUs were waiting for I/O
- `%idle` - percentage of time the CPUs were not waiting for I/O
- `%steal` - percentage of time in involuntary wait by the virtual CPUs while
the hypervisor was servicing another virtual processor

### I/O

The second report generated by `iostat` is the Device Utilization Report. It
provides statistics on a per physical device or partition basis. 

Block devices and partitions to be displayed can be specified as arguments: 

```bash
iostat /dev/sda
```

If no device nor partition is entered, then statistics are displayed for every
device used by the system (providing that the kernel maintains statistics for
it). If the ALL keyword is given on the command line, then statistics are
displayed for every device defined by the system, including those that have
never been used. 

Transfer rates are shown in 1K blocks by default.

- `tps` - transfers per second that were issued to the device. A transfer is an
I/O request to the device. Multiple logical requests can be combined into a
single I/O request to the device. A transfer is of indeterminate size
- `kB_read/s` - amount of data read from the device in kilobytes per second
- `kB_wrtn/s` - amount of data written to the device in kilobytes per second
- `kB_dscd/s` - amount of data discarded for the device in kilobytes per second
- `kB_read` - total kilobytes read
- `kB_wrtn` - total kilobytes written
- `kB_dscd` - total kilobytes discarded

There are many other options and nuances, check the documentation:

```bash
man iostat
```
